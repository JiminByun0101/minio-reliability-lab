---
# ------------------------------------------------------------------------------
# Default Variables for k3s Role
# ------------------------------------------------------------------------------
# K3s channel version: stable, latest, or specific (e.g., v1.33)
k3s_channel: "stable"

# Official K3s installation URL
k3s_install_url: "https://get.k3s.io"

# Default path for node token (used by workers to join)
k3s_token_file: "/var/lib/rancher/k3s/server/node-token"

# Server arguments
# --disable traefik: disable bundled ingress (we'll deploy our own)
# --write-kubeconfig-mode 644: allows kubectl access for non-root users
# --bind-address 0.0.0.0: listen on all interfaces
k3s_server_args: >
  --disable traefik
  --write-kubeconfig-mode 644
  --bind-address 0.0.0.0

# Retry tunables for readiness probes
api_ready_retries: 20
api_ready_delay: 10
service_ready_retries: 12
service_ready_delay: 10
flannel_ready_timeout: 120